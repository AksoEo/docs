parameters:
  - name: login
    in: path
    required: true
    description: The codeholder's username
    schema:
      oneOf:
        - $ref: '#/components/schemas/UEACode'
        - type: string
          title: email
          minLength: 1
          format: email
          description: The codeholder's email address

post:
  summary: Creates a password for the codeholder
  description: >
    No query parameters allowed


    Creates a password for the codeholder using the key obtained from an email sent by `GET /codeholders/{login}/!create_password`.
  requestBody:
    required: true
    content:
      application/vnd.msgpack:
        schema:
          properties:
            key:
              type: string
              format: binary
              minLength: 16
              maxLength: 16
              description: The key included in the email

            password:
              type: string
              description: The codeholder's password

          required: [ key, password ]

  responses:
    '204':
      description: Password set
    '404':
      description: Invalid email or key
