post:
  summary: Sends an email from an email template to codeholders by filter
  description: >
    Requires permissions: `codeholders.read`, `codeholders.send_email`, `email_templates.read.<org>`


    All filter and search properties from `GET /codeholders` are available.


    `?limit`, `?offset` and `?fields` are not allowed.


    All codeholders without an email address will be excluded.
  requestBody:
    required: true
    content:
      application/vnd.msgpack:
        schema:
          properties:
            emailTemplateId:
              type: integer
              format: uint32
              description: The id of an email template with the intent `codeholder`

            deleteTemplateOnComplete:
              type: boolean
              default: false
              description: >
                Whether to delete the email template once all the codeholder emails have been sent. This is useful for single-use templates.


                If true, the permission `email_templates.delete.<org>` is required.

          required:
            - emailTemplateId
  responses:
    '202':
      description: Accepted
    '404':
      description: Not found
