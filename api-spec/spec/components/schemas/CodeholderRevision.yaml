properties:
  oldCode:
    type: string
    nullable: true
    minLength: 4
    maxLength: 4
    readOnly: true
    pattern: ^[a-z]{4}$
    description: The old four-letter UEA code of the codeholder

  newCode:
    type: string
    minLength: 6
    maxLength: 6
    pattern: ^[a-z]{6}$
    description: The new six-letter UEA code of the codeholder

  revisionId:
    $ref: '#/components/schemas/CodeholderRevisionId'

  revisionTime:
    allOf:
      - description: The time at which this revision was created
      - $ref: '#/components/schemas/CodeholderModtime'

  codeholderType:
    type: string
    enum: ['human', 'org']

  password:
    type: string
    format: password
    writeOnly: true
    nullable: true
    description: The codeholder's password, if null the codeholder is not able to login

  country:
    allOf:
      - description: The codeholder's country of residence. A country from the list of countries at `/countries`.
      - $ref: '#/components/schemas/Country'

  countryModtime:
    $ref: '#/components/schemas/CodeholderModtime'

  countryModby:
    $ref: '#/components/schemas/CodeholderModby'

  countryModcmt:
    $ref: '#/components/schemas/CodeholderModcmt'

  state:
    type: string
    minLength: 1
    maxLength: 20
    nullable: true
    pattern: ^[^\n]*$
    description: The state/province/region of the codeholder
    example: California

  stateModtime:
    $ref: '#/components/schemas/CodeholderModtime'

  stateModby:
    $ref: '#/components/schemas/CodeholderModby'

  stateModcmt:
    $ref: '#/components/schemas/CodeholderModcmt'

  locality:
    type: string
    minLength: 1
    maxLength: 30
    nullable: true
    pattern: ^[^\n]*$
    description: The city/town of the codeholder
    example: Rotterdam

  localityModtime:
    $ref: '#/components/schemas/CodeholderModtime'

  localityModby:
    $ref: '#/components/schemas/CodeholderModby'

  localityModcmt:
    $ref: '#/components/schemas/CodeholderModcmt'

  postalCode:
    type: string
    minLength: 1
    maxLength: 20
    nullable: true
    pattern: ^[^\n]*$
    description: The postal/zip code of the codeholder
    example: 3015 BJ

  postalCodeModtime:
    $ref: '#/components/schemas/CodeholderModtime'

  postalCodeModby:
    $ref: '#/components/schemas/CodeholderModby'

  postalCodeModcmt:
    $ref: '#/components/schemas/CodeholderModcmt'

  thoroughfare:
    type: string
    minLength: 1
    maxLength: 30
    nullable: true
    pattern: ^[^\n]*$
    description: The street address (including number) of the codeholder
    example: Nieuwe Binnenweg 176

  thoroughfareModtime:
    $ref: '#/components/schemas/CodeholderModtime'

  thoroughfareModby:
    $ref: '#/components/schemas/CodeholderModby'

  thoroughfareModcmt:
    $ref: '#/components/schemas/CodeholderModcmt'

  premise:
    type: string
    minLength: 1
    maxLength: 20
    nullable: true
    pattern: ^[^\n]*$
    description: The apartment, suite, box number, etc. of the codeholder

  premiseModtime:
    $ref: '#/components/schemas/CodeholderModtime'

  premiseModby:
    $ref: '#/components/schemas/CodeholderModby'

  premiseModcmt:
    $ref: '#/components/schemas/CodeholderModcmt'

  address:
    type: string
    readOnly: true
    description: The codeholder's full address formatted according to their country

  addressModtime:
    $ref: '#/components/schemas/CodeholderModtime'

  addressModby:
    $ref: '#/components/schemas/CodeholderModby'

  addressModcmt:
    $ref: '#/components/schemas/CodeholderModcmt'

  email:
    type: string
    format: email
    minLength: 3
    maxLength: 200
    nullable: true
    pattern: ^[^\n]*$
    description: The codeholder's contact and login email address. If undefined, the codeholder may not login.

  emailModtime:
    $ref: '#/components/schemas/CodeholderModtime'

  emailModby:
    $ref: '#/components/schemas/CodeholderModby'

  emailModcmt:
    $ref: '#/components/schemas/CodeholderModcmt'

  enabled:
    type: boolean
    default: true
    description: Whether the codeholder may login

  notes:
    type: string
    default: ""
    maxLength: 10000
    description: Administrative notes on the codeholder

  notesModtime:
    $ref: '#/components/schemas/CodeholderModtime'

  notesModby:
    $ref: '#/components/schemas/CodeholderModby'

  notesModcmt:
    $ref: '#/components/schemas/CodeholderModcmt'

  officePhone:
    allOf:
      - description: The office phone number of the codeholder
        nullable: true
      - $ref: '#/components/schemas/PhoneNumber'

  officePhoneModtime:
    $ref: '#/components/schemas/CodeholderModtime'

  officePhoneModby:
    $ref: '#/components/schemas/CodeholderModby'

  officePhoneModcmt:
    $ref: '#/components/schemas/CodeholderModcmt'

  officePhoneFormatted:
    type: string
    readOnly: true
    nullable: true
    description: The office phone number of the codeholder formatted according to its country code

required:
  - newCode
  - country
  - enabled
